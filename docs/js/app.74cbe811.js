(function(e){function t(t){for(var r,o,u=t[0],s=t[1],c=t[2],p=0,d=[];p<u.length;p++)o=u[p],a[o]&&d.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var s=n[u];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var f=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("PrefGraph",{attrs:{title:"都道府県別人口推移グラフ"}})],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"prefGraph"},[n("div",{staticClass:"heading"},[n("h1",[e._v(e._s(e.title))])]),n("pref",{attrs:{prefs:e.prefs},on:{add:e.addSeriesByCode,remove:e.removeSeriesById}}),n("graph",{attrs:{queue:e.queue},on:{complete:e.unlock}})],1)},u=[],s=(n("7514"),n("96cf"),n("3b8d")),c=n("bc3a"),f=n.n(c),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pref"},[e._m(0),n("div",{staticClass:"prefList"},e._l(e.prefs,function(t){return n("PrefItem",{key:t.id,attrs:{pref:t},on:{change:e.changeCheckBox}})}),1)])},d=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"heading"},[n("h2",[e._v("都道府県")])])}],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"prefItem"},[n("label",[n("input",{attrs:{type:"checkbox",disabled:e.pref.disabled},domProps:{value:e.pref.prefCode},on:{change:e.change}}),e._v(e._s(e.pref.prefName))])])},h=[],m={props:{pref:{type:Object,required:!0}},data:function(){return{}},methods:{change:function(e){this.$emit("change",e)}}},v=m,g=(n("70c2"),n("2877")),b=Object(g["a"])(v,l,h,!1,null,"61575605",null),y=b.exports,x={components:{PrefItem:y},props:{prefs:{type:Array}},data:function(){return{}},methods:{changeCheckBox:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=parseInt(t.target.value,10),t.target.checked?this.$emit("add",n):this.$emit("remove",n);case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},C=x,_=(n("7d10"),Object(g["a"])(C,p,d,!1,null,"6ef6c4ce",null)),w=_.exports,O=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},P=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"graph"},[n("div",{attrs:{id:"MyChart"}})])}],j=(n("7f7f"),n("ea7f")),R=n.n(j),S={title:{text:""},chart:{backgroundColor:"#f8f8f8",showAxes:!0,marginTop:100,marginLeft:100,marginBottom:100,marginRight:120},xAxis:{title:{text:"年度",align:"high"}},yAxis:{title:{text:"人口数",align:"high",rotation:0,y:-40,offset:-5}},legend:{layout:"vertical",align:"right",verticalAlign:"top",x:0,y:80},plotOptions:{series:{events:{afterAnimate:function(){console.log("afterAnimate")}}}},series:[]},q={data:function(){return{chart:void 0}},props:{queue:{type:Object}},methods:{initGraph:function(){this.chart=R.a.chart("MyChart",S)},addSeries:function(e){var t={id:e.id,name:e.name,data:e.data};this.chart.addSeries(t)},removeSeriesById:function(e){this.chart.get(e).remove()}},watch:{queue:function(){if(console.log(this.queue),this.queue.isAdd){var e={id:this.queue.id,name:this.queue.name,data:this.queue.data};this.addSeries(e),this.$emit("complete",this.queue.id)}else this.removeSeriesById(this.queue.id)}},mounted:function(){this.initGraph()}},k=q,A=(n("a386"),Object(g["a"])(k,O,P,!1,null,"3d84342b",null)),B=A.exports,E={domain:"https://opendata.resas-portal.go.jp/",endPoints:{prefectures:"api/v1/prefectures",populations:"api/v1/population/composition/perYear"},options:{headers:{"X-API-KEY":"04dBR517ftRFMGaoYnHETY4Qqv0c5lqG75ihWT9j"}}},$={components:{Pref:w,Graph:B},props:{title:{type:String}},data:function(){return{prefs:[],queue:{isAdd:!0,id:0,name:"",data:[]},no:0}},methods:{init:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getPrefList();case 2:t=e.sent,this.prefs=t.map(function(e){return e.disabled=!1,e});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getPrefList:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(E.domain+E.endPoints.prefectures,E.options).then(function(e){return void 0!==e.data.statusCode&&console.log("RESAS-API ERROR: "+e.data.statusCode),e.data.result}).catch(function(e){console.error(e)});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),getPopulationsByCode:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={headers:E.options.headers,params:{prefCode:t,cityCode:"-"}},e.next=3,f.a.get(E.domain+E.endPoints.populations,n).then(function(e){void 0!==e.data.statusCode&&console.log("RESAS-API ERROR: "+e.data.statusCode);var t=e.data.result.data[0].data.map(function(e){return[e.year,e.value]});return t}).catch(function(e){console.error(e)});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getPrefNameByCode:function(e){return this.prefs.find(function(t){return t.prefCode===e}).prefName},createQueue:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{no:this.no++,isAdd:e,id:t,name:n,data:r}},addSeriesByCode:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.prefs.find(function(e){return e.prefCode===t}).disabled=!0,e.next=3,this.getPopulationsByCode(t);case 3:n=e.sent,r=this.getPrefNameByCode(t),this.queue=this.createQueue(!0,t,r,n);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),removeSeriesById:function(e){this.queue=this.createQueue(!1,e)},unlock:function(e){this.prefs.find(function(t){return t.prefCode===e}).disabled=!1}},mounted:function(){this.init()}},I=$,G=(n("7156"),Object(g["a"])(I,o,u,!1,null,"7069090a",null)),M=G.exports,T={name:"app",components:{PrefGraph:M},data:function(){return{}}},L=T,N=(n("034f"),Object(g["a"])(L,a,i,!1,null,null,null)),Q=N.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(Q)}}).$mount("#app")},"64a9":function(e,t,n){},"70c2":function(e,t,n){"use strict";var r=n("b3a3"),a=n.n(r);a.a},7156:function(e,t,n){"use strict";var r=n("ba50"),a=n.n(r);a.a},7904:function(e,t,n){},"7d10":function(e,t,n){"use strict";var r=n("c570"),a=n.n(r);a.a},a386:function(e,t,n){"use strict";var r=n("7904"),a=n.n(r);a.a},b3a3:function(e,t,n){},ba50:function(e,t,n){},c570:function(e,t,n){}});
//# sourceMappingURL=app.74cbe811.js.map