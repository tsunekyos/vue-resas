(function(e){function t(t){for(var n,o,s=t[0],u=t[1],c=t[2],p=0,d=[];p<s.length;p++)o=s[p],a[o]&&d.push(a[o][0]),a[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var u=r[s];0!==a[u]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},i=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var f=u;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("64a9"),a=r.n(n);a.a},"2b61":function(e,t,r){},"432c":function(e,t,r){"use strict";var n=r("d9a9"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("PrefGraph",{attrs:{title:"都道府県別人口推移グラフ"}})],1)},i=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"prefGraph"},[r("div",{staticClass:"heading"},[r("h1",[e._v(e._s(e.title))])]),r("pref",{attrs:{prefs:e.prefs},on:{add:e.addSeriesByPrefCode,remove:e.removeSeriesById}}),r("graph",{attrs:{queue:e.queue},on:{complete:function(t){return e.changePrefBtnDisable(t,!1)}}})],1)},s=[],u=(r("7514"),r("96cf"),r("3b8d")),c=r("bc3a"),f=r.n(c),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pref"},[e._m(0),r("div",{staticClass:"prefList"},e._l(e.prefs,function(t){return r("PrefItem",{key:t.id,attrs:{pref:t},on:{change:e.changeCheckBox}})}),1)])},d=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"heading"},[r("h2",[e._v("都道府県")])])}],l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"prefItem"},[r("label",[r("input",{attrs:{type:"checkbox",disabled:e.pref.disabled},domProps:{value:e.pref.prefCode},on:{change:e.change}}),e._v(e._s(e.pref.prefName))])])},h=[],m={data:function(){return{}},props:{pref:{type:Object,required:!0}},methods:{change:function(e){this.$emit("change",e)}}},v=m,g=(r("9d75"),r("2877")),b=Object(g["a"])(v,l,h,!1,null,"5c96fb8f",null),y=b.exports,P={components:{PrefItem:y},data:function(){return{}},props:{prefs:{type:Array}},methods:{changeCheckBox:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r=parseInt(t.target.value,10),t.target.checked?this.$emit("add",r):this.$emit("remove",r);case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},w=P,x=(r("906d"),Object(g["a"])(w,p,d,!1,null,"55c1830b",null)),_=x.exports,C=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},O=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"graph"},[r("div",{attrs:{id:"MyChart"}})])}],j=(r("7f7f"),r("ea7f")),R=r.n(j),S={title:{text:""},chart:{backgroundColor:"#f8f8f8",showAxes:!0,marginTop:100,marginLeft:100,marginBottom:100,marginRight:120,animation:!1},xAxis:{title:{text:"年度",align:"high"},gridLineWidth:1},yAxis:{title:{text:"人口数",align:"high",rotation:0,y:-40,offset:-5}},legend:{layout:"vertical",align:"right",verticalAlign:"top",x:0,y:80,itemMarginTop:3,itemMarginBottom:3},plotOptions:{series:{animation:{duration:0}}},series:[],tooltip:{animation:!1}},B={data:function(){return{chart:void 0}},props:{queue:{type:Object}},watch:{queue:function(){if(this.queue.isAdd){var e={id:this.queue.seriesId,name:this.queue.seriesName,data:this.queue.seriesData};this.addSeries(e),this.$emit("complete",this.queue.seriesId)}else this.removeSeriesById(this.queue.seriesId)}},methods:{initGraph:function(){this.chart=R.a.chart("MyChart",S)},addSeries:function(e){var t={id:e.id,name:e.name,data:e.data};this.chart.addSeries(t)},removeSeriesById:function(e){this.chart.get(e).remove()}},mounted:function(){this.initGraph()}},q=B,I=(r("6bb1"),Object(g["a"])(q,C,O,!1,null,"c4ca3f4e",null)),E=I.exports,k={domain:"https://opendata.resas-portal.go.jp/",endPoints:{prefectures:"api/v1/prefectures",populations:"api/v1/population/composition/perYear"},options:{headers:{"X-API-KEY":"04dBR517ftRFMGaoYnHETY4Qqv0c5lqG75ihWT9j"}}},A={components:{Pref:_,Graph:E},data:function(){return{prefs:[],queue:{isAdd:!0,seriesId:0,seriesName:"",seriesData:[]}}},props:{title:{type:String}},methods:{init:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getPrefList();case 2:t=e.sent,this.prefs=t.map(function(e){return e.disabled=!1,e});case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getPrefList:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(k.domain+k.endPoints.prefectures,k.options).then(function(e){if(console.log(e),void 0===e.data.result)throw new Error("RESAS-API ERROR: ".concat(e.data.message||e.data));return e.data.result}).catch(function(e){console.error(e)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),getPopulationsByPrefCode:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r={headers:k.options.headers,params:{prefCode:t,cityCode:"-"}},e.next=3,f.a.get(k.domain+k.endPoints.populations,r).then(function(e){if(console.log(e),void 0===e.data.result)throw new Error("RESAS-API ERROR: ".concat(e.data.statusCode||e.data));var t=e.data.result.data[0].data.map(function(e){return[e.year,e.value]});return t}).catch(function(e){console.error(e)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getPrefNameByPrefCode:function(e){return this.prefs.find(function(t){return t.prefCode===e}).prefName},createQueue:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{isAdd:e,seriesId:t,seriesName:r,seriesData:n}},addSeriesByPrefCode:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.changePrefBtnDisable(t,!0),e.next=3,this.getPopulationsByPrefCode(t);case 3:r=e.sent,n=this.getPrefNameByPrefCode(t),this.queue=this.createQueue(!0,t,n,r);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),removeSeriesById:function(e){this.queue=this.createQueue(!1,e)},changePrefBtnDisable:function(e,t){this.prefs.find(function(t){return t.prefCode===e}).disabled=t}},mounted:function(){this.init()}},$=A,M=(r("432c"),Object(g["a"])($,o,s,!1,null,"2c41e3fc",null)),G=M.exports,N={name:"app",components:{PrefGraph:G},data:function(){return{}}},T=N,D=(r("034f"),Object(g["a"])(T,a,i,!1,null,null,null)),L=D.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(L)}}).$mount("#app")},"64a9":function(e,t,r){},"6bb1":function(e,t,r){"use strict";var n=r("eb03"),a=r.n(n);a.a},"6e10":function(e,t,r){},"906d":function(e,t,r){"use strict";var n=r("6e10"),a=r.n(n);a.a},"9d75":function(e,t,r){"use strict";var n=r("2b61"),a=r.n(n);a.a},d9a9:function(e,t,r){},eb03:function(e,t,r){}});
//# sourceMappingURL=app.e73b7502.js.map